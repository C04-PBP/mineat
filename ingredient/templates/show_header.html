{% extends 'base.html' %}
{% block meta %}
<title>Search</title>
{% endblock meta %}
{% load static %}

{% block content %}

<header id="mainHeader" class="bg-transparent fixed w-full top-0 z-50 transition-colors duration-300 text-white">
  <div class="mx-auto flex h-16 max-w-screen-xl items-center gap-8 px-4 sm:px-6 lg:px-8">
    <!-- Logo -->
        <a class="block text-teal-600" href="{% url 'fnb:landing_page' %}">
            <img id="header-logo" src="{% static 'image/in8.png' %}" alt="Header Logo" class="h-16 w-16 hidden">
            <span class="sr-only">Home</span>
        </a>

    <div class="flex flex-1 items-center justify-end md:justify-between">
      <!-- Full menu for larger screens -->
      <nav id="navMenu" aria-label="Global" class="hidden md:block">
        <ul class="flex items-center gap-6 text-sm">
          <li><a class="menu-item" href="{% url 'ingredient:show_filter' %}"> Home </a></li>
          <li><a class="menu-item" href="{% url 'restaurant:show_restaurant' %}"> Restaurant </a></li>
          <li><a class="menu-item" href="{% url 'forum:show-forum-umum' %}"> Forum </a></li>
          {% if request.resolver_match.app_name == 'ingredient' %}
          <li><a id="filterToggle" href="javascript:void(0)" class="menu-item"> Filter </a></li>
          {% endif %}
          <li><a class="menu-item" href="#"> Projects </a></li>
          <li><a class="menu-item" href="#"> Blog </a></li>
        </ul>
      </nav>

      <div class="flex items-center gap-4">
        <div class="sm:flex sm:gap-4">
          <!-- Login and Register Buttons -->
          <a class="group relative inline-block overflow-hidden border border-[#BB0000] px-8 py-3 focus:outline-none focus:ring"
            href="{% url 'fnb:login' %}">
            <span
              class="absolute inset-y-0 left-0 w-[2px] bg-[#BB0000] transition-all group-hover:w-full group-active:bg-[#BB0000]"></span>
            <span class="relative text-sm font-medium text-[#BB0000] transition-colors group-hover:text-white"> Login
            </span>
          </a>
          <a class="group relative inline-flex items-center overflow-hidden border border-[#BB0000] px-8 py-3 focus:outline-none focus:ring"
            href="{% url 'fnb:register' %}">
            <span
              class="absolute inset-y-0 left-0 w-[2px] bg-[#BB0000] transition-all group-hover:w-full group-active:bg-[#BB0000]"></span>
            <span
              class="relative text-sm font-medium text-[#BB0000] transition-colors group-hover:text-white group-hover:mr-4">
              Register </span>
            <span class="absolute -right-full transition-all group-hover:right-4">
              <svg class="h-5 w-5 rtl:rotate-180" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                stroke="white">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </span>
          </a>
        </div>
      </div>
    </div>

    <!-- Hamburger button for mobile view -->
    <button id="hamburger"
      class="absolute left-4 top-4 block md:hidden rounded bg-gray-100 p-2.5 text-gray-600 transition hover:text-gray-600/75">
      <span class="sr-only">Toggle menu</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"
        stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>

    <!-- Mobile menu dropdown hidden by default -->
    <nav id="mobileMenu" aria-label="Global"
      class="hidden absolute left-0 top-full bg-white shadow-lg w-full md:hidden">
      <ul class="flex flex-col items-start gap-4 p-4 text-sm">
        <li><a class="text-gray-500 transition hover:text-gray-500/75" href="{% url 'ingredient:show_filter' %}"> Home
          </a></li>
        <li><a class="text-gray-500 transition hover:text-gray-500/75" href="{% url 'restaurant:show_restaurant' %}">
            Restaurant </a></li>
        <li><a class="text-gray-500 transition hover:text-gray-500/75" href="{% url 'forum:show-forum-umum' %}"> Forum
          </a></li>
        <li><a id="filterToggleMobile" href="javascript:void(0)"
            class="text-gray-500 transition hover:text-gray-500/75"> Filter </a></li>
        <li><a class="text-gray-500 transition hover:text-gray-500/75" href="#"> Projects </a></li>
        <li><a class="text-gray-500 transition hover:text-gray-500/75" href="#"> Blog </a></li>
      </ul>
    </nav>
  </div>
</header>

<script>
  const hamburger = document.getElementById('hamburger');
  const mobileMenu = document.getElementById('mobileMenu');
  hamburger.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
  });

  window.addEventListener('scroll', function () {
    const header = document.getElementById('mainHeader');
    if (window.scrollY > 50) {
      header.classList.add('bg-white', 'shadow-lg', 'text-gray-800'); // Change to original text color
      header.classList.remove('text-white', 'bg-transparent'); // Remove white text and transparent bg
    } else {
      header.classList.add('bg-transparent', 'text-white'); // Reset to initial white text and transparent bg
      header.classList.remove('bg-white', 'shadow-lg', 'text-gray-800');
    }
  });
</script>

<style>
  .logo {
    /* filter: drop-shadow(0 10px 10px rgba(0, 0, 0, 0.5)); */
    transition: transform 0.3s ease;
  }
</style>
{% endblock content %}